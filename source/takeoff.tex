%%
%% getstart.tex -- Flight Gear documentation: The FlightGear Manual
%% Chapter file
%%
%% Copyright (C) 2002 Michael Basler
%%                  & Bernhard Buckel
%%
%% This program is free software; you can redistribute it and/or
%% modify it under the terms of the GNU General Public License as
%% published by the Free Software Foundation; either version 2 of the
%% License, or (at your option) any later version.
%%
%% This program is distributed in the hope that it will be useful, but
%% WITHOUT ANY WARRANTY; without even the implied warranty of
%% MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
%% General Public License for more details.
%%
%% You should have received a copy of the GNU General Public License
%% along with this program; if not, write to the Free Software
%% Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139, USA.
%%
%% $Id: takeof.tex,v 0.6 2002/09/09 michael
%% (Log is kept at end of this file)

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\chapter{Takeoff: How to start the program\label{takeoff}}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\markboth{\thechapter.\hspace*{1mm}
TAKEOFF}{\thesection\hspace*{1mm} Command line parameters}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Environmental Variables}\index{environmental variables}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

There are two environmental variables that must be defined to run \FlightGear{}.
These tell \FlightGear{} where to find its data and scenery.

You can set them in a number of ways depending on your platform and requirements. 

\subsection{FG\_ROOT}\index{FG\_ROOT}

This is where \FlightGear{} will find data files such as aircraft, navigational
beacon locations, airport frequencies. This is the \texttt{data} subdirectory
of where you installed \FlightGear{}. e.g.
\texttt{/usr/local/share/FlightGear/data} or
\texttt{c:$\backslash$Program Files$\backslash$FlightGear$\backslash$data}.

\subsection{FG\_SCENERY}\index{FG\_SCENERY}

This is where \FlightGear{} will look for scenery files. It consists of a list
of directories that will be searched in order. The directories are separated
by ``:'' on Unix and ``;'' on Windows. e.g.

\noindent
{\footnotesize{\texttt{/home/joebloggs/WorldScenery:/usr/local/share/FlightGear/data/Scenery}}}

\noindent
or

\noindent
{\footnotesize{\texttt{c:$\backslash$Program Files$\backslash$FlightGear$\backslash$data$\backslash$Scenery;c:$\backslash$Program Files$\backslash$FlightGear$\backslash$data$\backslash$WorldScenery}}}.

\subsection{Environmental Variables on Windows and Mac OS X}
The graphical wizard on Windows and the GUI launcher on Mac OS X internally define these environmental variables so you don't have to define these yourself. However, in case you launch \FlightGear{} from command-line, you need to explicitly define these variables. 

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Launching the simulator under Unix/Linux}\index{Launching Flightgear!Linux}\index{Starting Flightgear!Linux}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\centerline{\fbox{
\includegraphics[clip,width=12.5cm]{ksfo}
}}
\smallskip

 \noindent
Fig.\,3: Ready for takeoff: \textit{Waiting at the default startup position at San
Francisco Itl., KSFO.}
\medskip

Before you can run \FlightGear{}, you need to set a couple of environmental variables:

\begin{itemize}
\item You must add \texttt{/usr/local/share/FlightGear/lib} to your \texttt{LD\_LIBRARY\_PATH}
\item \texttt{FG\_ROOT} must be set to the data directory of your \FlightGear{} installation. e.g. \texttt{/usr/local/share/FlightGear/data}.
\item \texttt{FG\_SCENERY} should be a list of scenery directories, separated by '':''. This works like \texttt{PATH} when searching for scenery.

e.g. \texttt{\$FG\_ROOT/Scenery:\$FG\_ROOT/WorldScenery}.
\end{itemize}

\noindent
To add these in the Bourne shell (and compatibles):
\begin{verbatim}
LD_LIBRARY_PATH=/usr/local/share/FlightGear/lib:$LD_LIBRARY_PATH
export LD_LIBRARY_PATH
FG_HOME=/usr/local/share/FlightGear
export FG_HOME
FG_ROOT=/usr/local/share/FlightGear/data
export FG_ROOT
FG_SCENERY=$FG_ROOT/Scenery:$FG_ROOT/WorldScenery
export FG_SCENERY
\end{verbatim}
\noindent
 or in C shell (and compatibles):
\begin{verbatim}
setenv LD_LIBRARY_PATH=\
  /usr/local/share/FlightGear/lib:$LD_LIBRARY_PATH
setenv FG_HOME=/usr/local/share/FlightGear
setenv FG_ROOT=/usr/local/share/FlightGear/data
setenv FG_SCENERY=\
  $FG_HOME/Scenery:$FG_ROOT/Scenery:$FG_ROOT/WorldScenery
\end{verbatim}
Once you have these environmental variables set up, simply start \FlightGear{} by running
\texttt{fgfs -$ $-option1 -$ $-option2\dots}.
\medskip
Command-line options are described in Chapter~\ref{options}.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Launching the simulator under Windows}\index{Launching Flightgear!Windows}\index{Starting Flightgear!Windows}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
The pre-built windows binaries come complete with a graphical wizard to start \FlightGear{}. Simply double-click on the \texttt{FlightGear Launcher} Start Menu item, or the icon on the Desktop. The launcher allows you to select:
\begin{itemize}
\item your aircraft
\item the start airport and runway
\item time of day
\item current weather conditions
\item \dots{} and a whole lot of other environmental settings
\end{itemize}

 \centerline{\fbox{
\includegraphics[clip,width=12.5cm]{launcher}
}}
\smallskip
\noindent
Fig.\,4: \textit{The FlightGear Launcher}

\medskip

The first time your run it, you will be asked to set your \texttt{FG\_ROOT} variable
(normally \texttt{c:$\backslash$Program Files$\backslash$FlightGear$\backslash$data}) and \texttt{FG\_SCENERY}.
This should be a list of the directories where you have installed scenery, typically
\texttt{c:$\backslash$Program Files$\backslash$FlightGear$\backslash$data$\backslash$Scenery}.

If you set invalid values or change your scenery directories later, you can
change the settings by pressing the ''Prev'' button from the first page of
the launcher.

\subsection{Launching from the command line}

Alternatively, you can run FlightGear from the command line. To do this, you
need to set up the \texttt{FG\_ROOT} and \texttt{FG\_SCENERY} environmental
variables manually.

Open a command shell, change to the directory where your binary resides
(typically something like
\texttt{c:$\backslash$Program Files$\backslash$FlightGear$\backslash$Win32$\backslash$bin}),
set the environment variables by typing
\medskip

\begin{verbatim}
SET FG_HOME="c:\Program Files\FlightGear"
SET FG_ROOT="c:\Program Files\FlightGear\data"
SET FG_SCENERY="c:\Program Files\FlightGear\data\Scenery"
\end{verbatim}
\medskip

\noindent
 and invoke \FlightGear{} (within the same Command shell, as environment
 settings are only valid locally within the same shell) via
\medskip

\texttt{fgfs -$ $-option1 -$ $-option2\dots}
\medskip

Of course, you can create a batch file with a Windows text editor (like notepad)
using the lines above.

For getting maximum performance it is recommended to minimize (iconize) the
text output window while running \FlightGear{}.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Launching the simulator under Mac OS X}\index{Launching Flightgear!Mac OS X}\index{Starting Flightgear!Mac OS X}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
The prebuilt binary package for Mac OS X comes with the GUI launcher. Simply couble-click the \FlightGear{} icon on /Applications folder shows up the GUI launcher window as shown in Fig. \ref{fig:maclauncher}. The typical scenario of launching \FlightGear{} on Mac OS X is:

\begin{itemize}
\item Selecting an aircraft and an airport
\item Enabling or disabling automatic scenery download (using TerraSync)
\item Enabling or disabling Navigation Map (Atlas)
\item Launch \FlightGear{}
\end{itemize}

This section illustrates the typical scenario as well as the advanced features of the GUI launcher.

\smallskip

 \centerline{\fbox{
\includegraphics[clip,width=12.5cm]{img/maclauncher}
}}
\smallskip
\noindent
Fig.\,5: \textit{The GUI Launcher for Mac OS X} \label{fig:maclauncher}

\medskip

\subsection{Selecting an aircraft and an airport}
At the launcher window, you can select an aircraft and an airport by clicking gear buttons at the right end of the airport/aircraft name. The thumbnail image of a selected aircraft will show up at the image panel on the window. The airport that you select here will be the starting point of your flight. \FlightGear{} uses ICAO 4-letter airport code, which is composed with one or two prefix letters followed by two or three airport code. For example, the ICAO code for San Francisco International Airport is KSFO. ``K'' in this case shows The United States, and SFO is the airport code for San Francisco International Airport. You can use \textit{Advanced features >> Position} or \textit{Aircraft} tab to find an airport or an aircraft.

\subsection{Enabling on-the-fly scenery downloading}
By checking \textit{Download scenery on the fly} at the launcher window, the scenery data will be downloaded while you're flying through the network. The scenery downloader will install the scenery data into \\
\texttt{/Applications/FlightGear.app/Contents/Resouces/data/Scenery-Terrasync}. 

\subsection{Enabling Navigation Map (Atlas)}
The Mac version of FlightGear includes Atlas, the navigation map that helps your flight plan, for your convenience. Checking this option will automatically launch Atlas when you start the flight. You don't have to specify any Atlas options. The GUI launcher will specify these for you.

\subsection{Launching FlightGear - the simulator}
Clicking \textit{Start Flight} button at the launcher window opens up another window - the FlightGear main window. \FlightGear{} immediately starts loading tons of data required for simulation. It may take a while on slower machines to load everything.

\subsection{Advanced Features}
\FlightGear{} has many features and options that you can specify at the time you launch it. Some of these are not changeable from the menu in the \FlightGear{} main window. To enable / disable these features, click the triangle-shaped button at the left-bottom of the launcher window. Then the advanced features tabs come up. All option values are saved so you don't have to specify these every time.

\subsubsection{General, Features, and Rendering tabs}
These tabs let you specify some of \FlightGear{} options:
\begin{itemize}
\item \textbf{Save preferences on exit:} lets \FlightGear{} save preferences that you changed from the menu in the \FlightGear{} (fgfs) main window will be saved to \\ \texttt{\$HOME/.fgfs/autosave.xml}.
\item \textbf{Control:} specifies the control device you will use in \FlightGear{}. \textit{auto, joystick, mouse, and keyboard} are available. You can leave it as \textit{auto} unless you really want to change it manually.
\item \textbf{Unit:} specifies the unit used in \FlightGear{}. \textit{feet} and \textit{|meters} are available.
\item \textbf{Time of day:} specifies the time of day. Available options are \textit{real, dawn, morning, noon, afternoon, dusk, evening, and midnight}.
\item \textbf{Season:} specifies the season of \FlightGear{} world. You can choose either summer or winter.

\item \textbf{Sound:} disabling this will cut all the sound in FlightGear.
\item \textbf{Instrumental panel:} specifies if 2D panel is drawn from the beginning. You can also enable/disable the 2D panel from \FlightGear{} menu
\item \textbf{Random objects:} specifies whether \FlightGear{} draws random objects or not
\item \textbf{AI models:} specifies whether \FlightGear{} handles AI aircraft and ships
\item \textbf{Clock never advances:} specifies whether the clock advances in \FlightGear{} or not
\item \textbf{No fuel consumption:} makes aircraft consume no fuel while it's flying
\item \textbf{Start in a frozen state:} starts \FlightGear{} with frozen state. it does not seem working at this moment.
\item \textbf{Display HUD:} displays HUD at the beginning, I guess. You can turn HUD on/off by pressing 'h' while you are flying.
\item \textbf{3D HUD:} enables 3D HUD if an selected aircraft supports it
\item \textbf{Real weather fetch:} enables fetching real weather condition using METAR
\item \textbf{Horizon effect:} enables horizon effect
\item \textbf{Clouds:} enables drawing clouds
\item \textbf{3D clouds:} enables drawing 3D clouds. You need to enable 3d clouds by checking \textit{3D cloud} from the \textit{View >> Rendering option} on the \FlightGear{} simulator window. 
\item \textbf{Turbulence:} specifies the strength of turbulence. 0.0 is calm and 1.0 is severe. You need to specify value from 0.0 through 1.0
\item \textbf{Visibility:} specifies the visibility in meter. You can specify 5000 or less if \FlightGear{} runs slow on your machine.
\item \textbf{Fullscreen mode:} enabling this will launch \FlightGear{} as full-screen mode
\item \textbf{Window size:} specifies the size of \FlightGear{} window. It will be ignored when full-screen mode is enabled
\item \textbf{Sky blending:} enables or disables \FlightGear{} to blend the sky depending on time and surrounding environment. DO NOT disable this option, or \FlightGear{} crashes.
\item \textbf{Textures:} enables or disables textures on runways, buildings, and scenery objects. Disabling this will give you some more fps, effective especially on G4 Macs.
\item \textbf{Wireframe:} lets \FlightGear{} draw wire-frames so you can see how the world of \FlightGear{} is drawn. This should be enabled only for debug / development purpose.
\item \textbf{Fog:} specifies how fog is drawn. \textit{disable, fastest, nicest} are available.
\end{itemize}

\subsubsection{Favorite tab}
Favorite list provides a means of preserving a named set of current options like a book mark of a web browser. To save the current set of options, press ``+'' button on the top window or at the bottom of the Favorite tab. Once favorites are added, You can switch from one configuration to another by double-clicking a row in the table view in the Favorite tab. Pressing ``-'' button (or delete key) on a favorite in the table view deletes the selected favorite.

\subsubsection{Position}
You can find airports or aircraft carriers by searching with a keyword into the filter text area. Available keywords are:

\begin{itemize}
\item For airports
	\begin {itemize} 
	\item a part of airport name (e.g. international, ranch, or civil)
	\item country name (such as Japan, USA, or France) if available
	\item location name (such as city or county or U.S. state abbrev. if available)
	\item IATA code (such as SFO, LAX, HND) if available
	\item ICAO code (such as KSFO, KLAX, RJTT) - works on all airports
	\end{itemize}
\item For aircraft carriers
	\begin{itemize}
	\item carrier name (nimitz or eisenhower)
	\item ``carrier''
	\end{itemize}
\end{itemize}
Airports and carriers that match the keyword are shown at the table view below the filter text area. The airport name at the upper pane is synchronized with the currently selected airport or carrier. You can also open this tab by clicking the gear button at the right end of airport name on the top pane.

When you choose an airport, available runways show up at the ``runway'' pop-up button. You can choose a runway or leave it as ``default.''

\subsubsection{Aircraft tab}
You can find aircraft by searching with a keyword into the filter text area. Available keywords are:

\begin{itemize}
\item a part of aircraft name (e.g. c172, zero, shinden)
\item configuration file name without -set.xml (e.g. a6m2, p51d)
\item fdm (Flight Dynamics Model) name (e.g. yasim, jsb)
\item status (e.g. alpha, beta, production, development)
\end{itemize}
A list of aircraft that match the keyword shows up at the table view below the filter text area. The aircraft name at the upper pane is synchronized with the currently selected aircraft. You can also open this tab by clicking the gear button at the right end of aircraft name on the top pane.

If you want to find more aircraft data from the internet, click ``Get Aircraft'' button at the bottom of the Aircraft tab. It opens a web browser to lead you to the Aircraft Links page on \textit{FlightGear Mac OS X} web site. you can visit some links there and download an aircraft you want. Once an aircraft is downloaded, open ``Others'' tab to install it. 

If you encounter some weird behavior in searching aircraft, removing a cache file for aircraft database might solve your problem. open \\ \texttt{/Applications/Utilities/Terminal.app} and type the following commands to remove the cache file:

\begin{verbatim}
  cd /Applications/FlightGear.app/Contents/Resources
  rm AircraftCache.rb
\end{verbatim}

\medskip
Note that you must not launch \FlightGear{} from mounted disk image of a prebuilt binary package since the folder in the mounted disk image is read-only, which prevents you from installing any add-on data. you need to install \FlightGear{} by copying the \FlightGear{} icon from the mounted disk image to \texttt{/Applciations} folder.

\subsubsection{Network tab}
This tab contains two network features of \FlightGear{}. One is multi-player mode and another is FGCOM (a voice ATC). To enable multi-player mode, specify the followings:
\begin{itemize}
\item \textbf{Enable Multiplay:} enables or disables multi-player mode. Enabling this will open a new browser window to show the map on a multi player server.
\item \textbf{Callsign:} specifies the name shown in the map. Username must contain only alphabet letters, numbers, underscores, and dots. \FlightGear{} will exit when you specify a call sign with invalid characters. A user name with 8 or more characters will be truncated into the first 7 characters. 
\item \textbf{Server:} specifies the server to connect. \texttt{mpserver02.flightgear.org} is available at the time of writing this.
\item \textbf{Your Mac:} specifies your Mac's IP address. Usually the launcher detects the address automatically. If something is wrong with network connection, clear this text field.
\item \textbf{Port:} must be 5000
\end{itemize}

FGCOM enables you to make a real voice communication using radio setting. You can talk at a selected radio frequency (COM1) while pressing space bar. You can listen to some other player's talking in the frequency if some others are using the same frequency and you are in range. The options available for FGCOM are listed below:

\begin{itemize}
\item \textbf{Enable FGCOM in Multi Player mode:} specifies if you use FGCOM when Multiplay is enabled.
\item \textbf{FGCOM Server:} specifies a VOIP server.
\end{itemize}

For further instructions on FGCOM, please refer to 

\subsubsection{Others tab}
You can specify any options other than aircraft, airport, and the options shown in the launcher. Entering space-separated options as shown in Figure 11 will pass additional options to \FlightGear{}. You can see all available options by pressing ``View Options.'' Some options might cause \FlightGear{} crash. If you encounter such crashes with a specific option, please let us know.

To install additional aircraft and scenery data, press "Install Add-on Data." You can specify multiple files and/or folders to install to the \FlightGear{} data folder. Acceptable file types are:
\begin{itemize}
\item zip
\item tar
\item tar.gz
\item tar.bz2
\item folder
\item 7zip (only if 7zip is installed)
\end{itemize}

You will see the message window when all the data are successfully installed, otherwise error message will show up. You can select both aircraft and scenery data at a time. If you select an archived file that does not contain aircraft files, it will be extracted into the data folder, but will be ignored. When you finish installing new aircraft, you can select the aircraft on the ``Aircraft'' tab.

\subsection{Launching from the command line}
You can also launch the simulator from the command line on Mac OS X. To do so, open Terminal.app (located at \texttt{/Applications/Utilities}) and type the following commands:
\begin{verbatim}
  cd /Applications/FlightGear.app/Contents/Resources
  ./fgfs --option1 --option2 ....
\end{verbatim}

See chapter \ref{options} for detail information on command line options. Unlike the other platforms, you don't have to manually specify the environmental variables such as FG\_ROOT and FG\_SCENERY as long as you use a prebuilt binary package. 

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Command line parameters\label{options}}\index{command line options}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
Following is a complete list and short description of the numerous \Index{command line options}
available for \FlightGear{}. Most of these options are exposed through the \FlightGear{} launcher delivered with the
Windows binaries.

If you have options you re-use continually, you can include them in a preferences file. As it depends on your
\Index{preferences}, it is not delivered with \FlightGear{}, but can be created with any text editor (notepad, emacs, vi, if you like).

\begin{itemize}
\item On Unix systems (including Mac OS X), create a \texttt{.fgfsrc}\index{.fgfsrc} file in your home directory.
\item On Windows, create a \texttt{system.fgfsrc},\index{system.fgfsrc} in
the \texttt{FG\_ROOT} directory (e.g. \texttt{c:$\backslash$Program Files$\backslash$FlightGear$\backslash$data}).
\end{itemize}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{General Options}\index{options!general}\label{generaloptions}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{itemize}
\item{\texttt{-$ $-help}}

  Shows the most relevant command line options only.

\item{\texttt{-$ $-help} \texttt{-verbose}}

  Shows all command line options.

\item{\texttt{-$ $-fg-root={\it path}}}

  Tells \FlightGear{} where to look for its root data files if you
  didn't compile it with the \Index{default settings}.

\item{\texttt{-$ $-fg-scenery={\it path}}}

  Allows specification of a path to the base scenery path
  \index{scenery directory!path}, in case scenery is not at the default
  position under \texttt{\$FG\underline{~}ROOT/Scenery}; this might
  be especially useful in case you have scenery on a CD-ROM.

\item{\texttt{-$ $-disable-game-mode}}

  Disables \Index{full screen display}.

\item{\texttt{-$ $-enable-game-mode}}

  Enables full screen display.

\item{\texttt{-$ $-disable-splash-screen}}

  Turns off the rotating 3DFX logo when the accelerator board gets
  initialized (3DFX only).

\item{\texttt{-$ $-enable-splash-screen}}

  If you like advertising, set this!

\item{\texttt{-$ $-disable-intro-music}}

  No audio sample will be played when \FlightGear{} starts up.
  Suggested in case of trouble with playing the intro.

\item{\texttt{-$ $-enable-intro-music}}

  If your machine is powerful enough, enjoy this setting.

\item{\texttt{-$ $-disable-mouse-pointer}}

  Disables extra \Index{mouse pointer}.

\item{\texttt{-$ $-enable-mouse-pointer}}

  Enables extra \Index{mouse pointer}. Useful in full screen mode for
  old Voodoo based cards.

\item{\texttt{-$ $-enable-random-objects}}

  Include random scenery objects (buildings/trees). This is the default.

\item{\texttt{-$ $-disable-random-objects}}

  Exclude random scenery objects (buildings/trees).

\item{\texttt{-$ $-disable-freeze}}

  This will put you into \FlightGear{} with the engine running, ready
  for Take-Off.

\item{\texttt{-$ $-enable-freeze}}

  Starts \FlightGear{} in \Index{frozen state}.

\item{\texttt{-$ $-disable-fuel-freeze}}

  Fuel is consumed normally.

\item{\texttt{-$ $-enable-fuel-freeze}}

  Fuel tank quantity is forced to remain constant.

\item{\texttt{-$ $-disable-clock-freeze}}

  Time of day advances normally.

\item{\texttt{-$ $-enable-clock-freeze}}

  Do not advance time of day.

\item{\texttt{-$ $-control-mode}}

  Specify your \Index{control device} (\Index{joystick},  keyboard,
  mouse) Defaults to \Index{joystick} (\Index{yoke}).

\item{\texttt{-$ $-disable-auto-coordination}}

  Switches \Index{auto-co-ordination} between aileron/rudder off (default).

\item{\texttt{-$ $-enable-auto-coordination}}

  Switches auto-co-ordination between aileron/rudder on (recommended
  without pedals).

\item{\texttt{-$ $-browser-app=/path/to/app}}

  specify location of your web browser. Example:
  \texttt{-$ $-browser-app=}\\
  \texttt{''C:$\backslash$Program~Files$\backslash$Internet~Explorer$\backslash$iexplore.exe''}
  (Note the '' '' because of the spaces!).

\item{\texttt{-$ $-prop:name=value}}

  set property \texttt{name} to \texttt{value}\\Example:
\texttt{-$ $-prop:/engines/engine0/running=true} for starting with running engines. Another example:\\
\texttt{-$ $-aircraft=c172}\\
\texttt{-$ $-prop:/consumables/fuels/tank[0]/level-gal=10}\\
\texttt{-$ $-prop:/consumables/fuels/tank[1]/level-gal=10}\\
fills the Cessna for a short flight.

\item{\texttt{-$ $-config=path}}

  Load additional properties from the given path. Example:\\
  \texttt{fgfs -$ $-config=./Aircraft/X15-set.xml}

\item{\texttt{-$ $-units-feet}}

  Use feet as the unit of measurement.

\item{\texttt{-$ $-units-meters}}
  Use meters as the unit of measurement.
\end{itemize}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Features}\index{options!features}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{itemize}
\item{\texttt{-$ $-disable-hud}}: Switches off the \Index{HUD} (\textbf{H}ead \textbf{U}p
  \textbf{D}isplay).
\item{\texttt{-$ $-enable-hud}}: Turns the  \Index{HUD} on.
\item{\texttt{-$ $-enable-anti-aliased-hud}}: Turns on \Index{anti-aliased HUD lines} for better quality,
if hardware supports this.
\item{\texttt{-$ $-disable-anti-aliased-hud}}: Turns off anti-aliased HUD lines.
\item{\texttt{-$ $-enable-panel}}: Turns the \Index{instrument panel} on (default).
\item{\texttt{-$ $-disable-panel}}: Turns the \Index{instrument panel} off.
\item{\texttt{-$ $-disable-sound}}: Self-explanatory.
\item{\texttt{-$ $-enable-sound}}: As above.
\end{itemize}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Aircraft\index{aircraft!selection}}\index{options!aircraft}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{itemize}
\item{\texttt{-$ $-aircraft={\it name of aircraft definition file}}} Example: \texttt{-$ $-aircraft=c310}. For available choices check the directory \texttt{/FlightGear/Aircraft}, and look for files ending in \texttt{''-set.xml''}. When specifying the aircraft, drop the \texttt{''-set.xml''} from the filename. Alternatively, use the \texttt{-$ $-show-aircraft} option described below. To download additional aircraft see Section \ref{install_aircraft}.

\item{\texttt{-$ $-show-aircraft}}: Print a sorted list of the currently available aircraft types.
\end{itemize}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Flight model\index{flight dynamics model}}\index{options!flight model}\label{flight dynamics model}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{itemize}
\item{\texttt{-$ $-fdm={\it abcd}}} Select the core \Index{flight model}.
Options are \texttt{jsb, larcsim, yasim, magic, balloon, external, pipe, ada, null}. Default value is
\texttt{jsb} (\JSBSim)\index{JSBSim}. LaRCSim is the flight model which
\FlightGear{} inherited from the LaRCSim simulator.  YASIM is Andy Ross' Yet
Another Flight Dynamics Simulator. Magic is a slew mode (which drives the
UFO aircraft). Balloon is a hot air balloon. External refers to remote
control of the simulator via TCP socket, pipe is for local control via named
pipe. Null selects no flight dynamics model at all. The \Index{UIUC flight
model} is not chosen this way but via the next option! For further
information on flight models cf. Section~\ref{flightmodels} and below.
\item{\texttt{-$ $-aero={\it abcd}}} Specifies the \Index{aircraft model} to load. Default is a Cessna c172. Alternatives available depend on the flight model chosen.
\item{\texttt{-$ $-model-hz={\it n}}} Run the Flight Dynamics Model with this rate
(iterations per second).
\item{\texttt{-$ $-speed={\it n}}} Run the Flight Dynamics Model this much faster than real
time.
\item{\texttt{-$ $-notrim}} Do NOT attempt to trim the model when initializing JSBSim.
\item{\texttt{-$ $-on-ground}}: Start up at ground level (default).
\item{\texttt{-$ $-in-air}}: Start up in the air. Naturally, you have to specify an
initial altitude as below for this to make sense. This is a must for the X15.
\item{\texttt{-$ $-wind={\it DIR@SPEED}}}: Specify wind coming from the direction DIR (in
degrees) at speed SPEED (knots). Values may be specified as a range by using a clon separator; e.g. 180:220@10:15
\item{\texttt{-$ $-random-wind}}: Adds random wind to make flying more challenging
\end{itemize}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Initial Position and Orientation\label{aiportid}}\index{options!initial position}\index{options!orientation}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{itemize}
\item{\texttt{-$ $-airport-id={\it ABCD}}}: If you want to start directly at an \Index{airport},
  enter its international code,\index{airport code} i.e. KJFK for JFK airport in New York etc.
  A long/short list of the IDs of the airports being implemented can
  be found in \texttt{/Flight Gear/Airports}. You only have to unpack
  one of the files with \texttt{gunzip}. Bear in mind, however, that you will need the terrain data for the relevant region!!\index{airport code}
\item{\texttt{-$ $-offset-distance={\it nm}}}: Here you can specify the distance to
threshold in nm.
\item{\texttt{-$ $-offset-azimuth={\it deg}}}: Here you can specify the heading to
threshold in degrees.
\item{\texttt{-$ $-lon={\it degrees}}}: This is the \Index{startup longitude} in degrees (west =
-).
\item{\texttt{-$ $-lat={\it degrees}}}: This is the \Index{startup latitude} in degrees (south =
-).
\item{\texttt{-$ $-altitude={\it feet}}}: This is useful if you want to start in free
flight in connection with \texttt{-$ $-in-air}. Altitude specified in feet unless you
choose \texttt{-$ $-units-meters}.
\item{\texttt{-$ $-heading={\it degrees}}}: Sets the \Index{initial heading} (yaw angle) in degrees.
\item{\texttt{-$ $-roll={\it degrees}}}: Sets the \Index{startup roll angle} (roll angle) in degrees.
\item{\texttt{-$ $-pitch={\it degrees}}}: Sets the \Index{startup pitch angle} (pitch angle) in degrees.
\item{\texttt{-$ $-uBody={\it feet per second}}}: Speed along the body X axis in feet per second, unless you
choose \texttt{-$ $-units-meters}.
\item{\texttt{-$ $-vBody={\it feet per second}}}: Speed along the body Y axis in feet per second, unless you
choose \texttt{-$ $-units-meters}.
\item{\texttt{-$ $-wBody={\it feet per second}}}: Speed along the body Z axis in feet per second, unless you
choose \texttt{-$ $-units-meters}.
\item{\texttt{-$ $-vc={\it knots}}}: Allows specifying the initial airspeed in knots
(only in connection with  \texttt{-$ $-fdm=jsb}).
\item{\texttt{-$ $-mach={\it num}}}: Allows specifying the initial airspeed as Mach
number (only in connection with  \texttt{-$ $-fdm=jsb}).
\item{\texttt{-$ $-glideslope={\it degrees}}}: Allows specifying the flight path angle (can be positive).
\item{\texttt{-$ $-roc={\it fpm}}}: Allows specifying the initial climb rate (can be negative).
\end{itemize}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Rendering Options\index{options!rendering}}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{itemize}
\item{\texttt{-$ $-bpp={\it depth}}}: Specify the bits per pixel.
\item{\texttt{-$ $-fog-disable}}: To cut down the rendering efforts, distant
  regions vanish in \Index{fog} by default. If you disable \Index{fog} you'll see farther, but your frame rates will drop.
\item{\texttt{-$ $-fog-fastest}}: The scenery will not look very nice but
  \Index{frame rate} will increase.
\item{\texttt{-$ $-fog-nicest}}: This option will give you a fairly realistic
  view of flying on a hazy day.\index{haze}
\item{\texttt{-$ $-enable-clouds}}: Enable \Index{cloud layer} (default).
\item{\texttt{-$ $-disable-clouds}}: Disable cloud layer.
\item{\texttt{-$ $-fov={\it degrees}}}: Sets the \Index{field of view} in degrees.
Default is 55.0.
\item{\texttt{-$ $-disable-fullscreen}}: Disable \Index{full screen mode} (default).
\item{\texttt{-$ $-enable-fullscreen}}: Enable full screen mode.
\item{\texttt{-$ $-shading-flat}}: This is the fastest mode but the terrain will look ugly!
This option might help if your video processor is really slow.
\item{\texttt{-$ $-shading-smooth}}: This is the recommended (and default) setting - things will look really nice.
\item{\texttt{-$ $-disable-skyblend}}: No fogging or \Index{haze}, sky will be displayed
  using just one color. Fast but ugly!
\item{\texttt{-$ $-enable-skyblend}}: Fogging/haze is enabled, sky and \Index{terrain} look realistic. This is the default and recommended setting.
\item{\texttt{-$ $-disable-textures}}: Terrain details will be disabled. Looks ugly, but might help if your video board is slow.
\item{\texttt{-$ $-enable-textures}}: Default and recommended.
\item{\texttt{-$ $-enable-wireframe}}: If you want to know what the world of \FlightGear{} looks like internally, try
this!\index{wireframe}
\item{\texttt{-$ $-disable-wireframe}}: No wireframe. Default.
\item{\texttt{-$ $-geometry={\it WWWxHHH}}}: Defines the size of the window used, i.e.
\texttt{WWWxHHH} can be \texttt{640x480}, \texttt{800x600}, or
\texttt{1024x768}.\index{window size}
\item{\texttt{-$ $-view-offset={\it xxx}}}: Allows setting the default forward view direction as an offset from straight
ahead. Possible values are \texttt{LEFT, RIGHT, CENTER}, or a specific number of degrees.
Useful for multi-window display.\index{offset}
\item{\texttt{-$ $-visibility={\it meters}}}: You can specify the initial visibility in meters here.
\item{\texttt{-$ $-visibility-miles={\it miles}}}: You can specify the initial visibility in miles here.
\end{itemize}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{HUD Options\index{HUD}\index{options!HUD}}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{itemize}
\item{\texttt{-$ $-hud-tris}}: HUD displays the number of \Index{triangles} rendered.
\item{\texttt{-$ $-hud-culled}}: HUD displays percentage of triangles culled.
\end{itemize}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Time Options}\index{time options}\index{options!time}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{itemize}
\item{\texttt{-$ $-time-match-real}}

  Synchronize time with real-world time

\item{\texttt{-$ $-time-match-local}}

  Synchronize time with local real-world time

\item{\texttt{-$ $-start-date-sys={\it yyyy:mm:dd:hh:mm:ss}}}:

  Specify a starting date/time with respect to system time

\item{\texttt{-$ $-start-date-gmt={\it yyyy:mm:dd:hh:mm:ss}}}

  Specify a starting date/time with respect to Greenwich Mean Time

\item{\texttt{-$ $-start-date-lat={\it yyyy:mm:dd:hh:mm:ss}}}

  Specify a starting date/time with respect to Local Aircraft Time
\end{itemize}

{-$ $-time-match-real}, basically gives our initial behavior: Simulator time is
read from the system clock, and is used as is. When your virtual flight is in
the same timezone as where your computer is located, this may be desirable,
because the clocks are synchronized. However, when you fly in a different
part of the world, it may not be the case, because there is a number hours
difference, between the position of your computer and the position of your
virtual flight.

The option {-$ $-time-match-local} takes care of this by computing the timezone
difference between your real world time zone and the position of your virtual
flight, and local clocks are synchronized.

The next three options are meant to specify the exact startup time/date. The
three functions differ in that they take either your computer system's local
time, Greenwich Mean Time, or the local time of your virtual flight as the
reference point.

Each of these five options were designed to be used exclusively.  However, the
value set by these functions could be modified using the \texttt{--time-offset}
function. The latter would add a specified amount of time to the value
already set by the other functions.
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Network Options}\index{network options}\index{options!network}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{itemize}
\item{\texttt{-$ $-httpd={\it port}}}

  Enable \Index{http server} on the specified port.

\item{\texttt{-$ $-telnet={\it port}}}

  Enable \Index{telnet server} on the specified port.

\item{\texttt{-$ $-jpg-httpd={\it port}}}

  Enable screen shot http server on the specified port.

\item{\texttt{-$ $-enable-network-olk}}

  Enables Oliver Delises's multi-pilot mode.

\item{\texttt{-$ $-disable-network-olk}}

  Disables Oliver Delises's multi-pilot mode (default).

\item{\texttt{-$ $-net-hud}}

  HUD displays network info.

\item{\texttt{-$ $-net-id={\it name}}}
  Specify your own \Index{callsign}
 \end{itemize}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Route/Waypoint Options}\index{options!route}\index{options!waypoint}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{itemize}
\item{\texttt{-$ $-wp={\it ID[@alt]}}}

  Allows specifying a waypoint for the GC autopilot; it is possible to
  specify multiple waypoints (i.e\. a route) via multiple instances of
  this command.

\item{\texttt{-$ $-flight-plan={\it [file]}}}

  This is more comfortable if you have several waypoints. You can
  specify a file to read them from.
\end{itemize}

NB: These options are rather geared to the advanced user who knows what he is doing.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{IO Options}\index{options!IO}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{itemize}
\item{\texttt{-$ $-garmin={\it params}}}

  Open connection using the Garmin GPS protocol.

\item{\texttt{-$ $-joyclient={\it params}}}

  Open connection to an Agwagon joystick.

\item{\texttt{-$ $-native-ctrls={\it params}}}

  Open connection using the FG native Controls protocol.

\item{\texttt{-$ $-native-fdm={\it params}}}

  Open connection using the FG Native FDM protocol.

\item{\texttt{-$ $-native={\it params}}}

  Open connection using the FG Native protocol.

\item{\texttt{-$ $-nmea={\it params}}}

  Open connection using the NMEA protocol.

\item{\texttt{-$ $-opengc={\it params}}}

  Open connection using the OpenGC protocol.

\item{\texttt{-$ $-props={\it params}}}

  Open connection using the interactive property manager.

\item{\texttt{-$ $-pve={\it params}}}

  Open connection using the PVE protocol.

\item{\texttt{-$ $-ray={\it params}}}

  Open connection using the RayWoodworth motion chair protocol.

\item{\texttt{-$ $-rul={\it params}}}

  Open connection using the RUL protocol.

\item{\texttt{-$ $-atc610x}}

  Enable atc610x interface.
\end{itemize}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Debugging options}\index{options!debugging}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{itemize}
\item{\texttt{-$ $-trace-read={\it params}}}

  Trace the reads for a property; multiple instances are allowed.

\item{\texttt{-$ $-trace-write={\it params}}}

  Trace the writes for a property; multiple instances are allowed.
\end{itemize}



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Joystick support\label{joysticksupp}}\index{joystick}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
Could you imagine a pilot in his or her Cessna controlling the machine with
a keyboard alone? For getting the proper feeling of flight you will need a
joystick/yoke plus rudder pedals, right? However, the combination of
numerous types of \Index{joystick}s, flightsticks, \Index{yoke}s,
\Index{pedal}s etc. on the market with the several target operating systems,
makes joystick support a non-trivial task in \FlightGear{}.

\FlightGear{} has integrated joystick support, which automatically detects
any joystick, yoke, or pedals attached. Just try it! If this does work for
you, lean back and be happy! You can see what \FlightGear{} has detected your
joystick as by selecting Help -> Joystick Information from the menu.

Unfortunately, given the several combinations of operating systems supported
by \FlightGear{} (possibly in foreign languages) and joysticks available,
chances are your joystick does not work out of the box. Basically, there are
two alternative approaches to get it going, with the first one being
preferred.


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Built-in joystick support\label{joystickbuiltin}}\index{options!joystick}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection{General remarks\label{generalremarks}}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
In order for joystick auto-detection to work, a joystick bindings xml file
must exist for each joystick. This file describes what axes and buttons are
to be used to control which functions in \FlightGear{}.  The associations
between functions and axes or buttons are called ``bindings''.  This
bindings file can have any name as long as a corresponding entry exists in
the joysticks description file
\medskip

     	\texttt{/FlightGear/joysticks.xml}
\medskip

\noindent
which tells \FlightGear{} where to look for all the bindings files.  We will
look at examples later.

\FlightGear{} includes several such bindings files for several joystick
manufacturers in folders named for each manufacturer.  For example, if you
have a CH Products joystick, look in the folder
\medskip

    \texttt{/FlightGear/Input/Joysticks/CH}
    \medskip

\noindent
for a file that might work for your joystick.  If such a file exists and
your joystick is working with other applications, then it should work with
\FlightGear{} the first time you run it.  If such a file does not exist,
then we will discuss in a later section how to create such a file by cutting
and pasting bindings from the examples that are included with \FlightGear{}.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection{Verifying your joystick is working\label{verifying}}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
Does your computer see your joystick?  One way to answer this question under Linux is to reboot your system and immediately enter on the command line
\medskip

	\texttt{dmesg | grep Joystick}
\medskip

\noindent
which pipes the boot message to grep which then prints every line in the
boot message that contains the string ``Joystick''.  When you do this with a
Saitek joystick attached, you will see a line similar to this one:
\medskip

\begin{ttfamily}
\noindent
   input0: USB HID v1.00 Joystick [SAITEK CYBORG 3D USB] on usb2:3.0
\end{ttfamily}
\medskip

\noindent
This line tells us that a joystick has identified itself as SAITEK CYBORG 3D USB to the operating system.  It does not tell us that the joystick driver sees your joystick. If you are working under Windows, the method above does not work, but you can still go on with the next paragraph.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection{Confirming that the driver recognizes your joystick\label{confirming}}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\FlightGear{} ships with a utility called js\underline{~}demo. It will report the number of joysticks attached to a system, their respective ``names'', and their capabilities. Under Linux, you can run js\underline{~}demo from the folder \texttt{/FlightGear/bin} as follows:
\medskip

\noindent
	\texttt{\$ cd /usr/local/FlightGear/bin}\\
	\texttt{\$ \./js\underline{~}demo}
\medskip

\noindent
Under Windows, open a command shell (Start$\left|\right.$All Programs$\left|\right.$Accessories), go to the \FlightGear{} binary folder and start the program as follows (given \FlightGear{} is installed under \texttt{c:$\backslash$Flightgear})
\medskip

\noindent
	\texttt{cd {$\backslash$}FlightGear{$\backslash$}bin}\\
	\texttt{js\underline{~}demo.exe}
\medskip

\noindent
Under Mac OS X, open Terminal.app (\texttt{/Applications/Utilities/}) and run js\underline{~}demo as follows:
\medskip

\noindent
	\texttt{\$ cd /Applications/FlightGear.app/Contents/Resources}\\
	\texttt{\$ ./js\underline{~}demo}
\medskip

On our system, the first few lines of output are (stop the program with \^{~}C if it is quickly scrolling  past your window!) as follows:
\medskip

\begin{ttfamily}
\tiny
\noindent
\underline{Joystick test program}.\\
Joystick 0: ``CH PRODUCTS CH FLIGHT SIM YOKE USB\, ''\\
Joystick 1: ``CH PRODUCTS CH PRO PEDALS USB\,''\\
Joystick 2 not detected\\
Joystick 3 not detected\\
Joystick 4 not detected\\
Joystick 5 not detected\\
Joystick 6 not detected\\
Joystick 7 not detected\\
+--------------------JS.0----------------------+--------------------JS.1----------------------+\\
| Btns Ax:0 Ax:1 Ax:2 Ax:3 Ax:4 Ax:5 Ax:6      | Btns Ax:0 Ax:1 Ax:2                          |\\
+----------------------------------------------+----------------------------------------------+\\
| 0000 +0.0 +0.0 +1.0 -1.0 -1.0 +0.0 +0.0   .  | 0000 -1.0 -1.0 -1.0   .    .    .    .    .  |\\
\end{ttfamily}

\noindent
First note that js\underline{~}demo reports which number is assigned to each joystick recognized by the driver.  Also, note that the ``name'' each joystick reports is also included between quotes.  We will need the names for each bindings file when we begin writing the binding xml files for each joystick.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection{Identifying the numbering of axes and buttons\label{identifying}}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
Axis and button numbers can be identified using js\underline{~}demo as follows. By observing the output of js\underline{~}demo while working your joystick axes and buttons you can determine what axis and button numbers are assigned to each joystick axis and button. It should be noted that numbering generally starts with zero.

The buttons are handled internally as a binary number in which bit 0 (the least significant bit) represents button 0, bit 1 represents button 1, etc., but this number is displayed on the screen in hexadecimal notation, so:
\medskip

\noindent
  0001 $\Rightarrow$ button 0 pressed\\
  0002 $\Rightarrow$ button 1 pressed\\
  0004 $\Rightarrow$ button 2 pressed\\
  0008 $\Rightarrow$ button 3 pressed\\
  0010 $\Rightarrow$ button 4 pressed\\
  0020 $\Rightarrow$ button 5 pressed\\
  0040 $\Rightarrow$ button 6 pressed\\
  ... etc\. up to ...\\
  8000 $\Rightarrow$ button 15 pressed\\
  ... and ...\\
  0014 $\Rightarrow$ buttons 2 and 4 pressed simultaneously\\
  ... etc.
  \medskip

For Linux users, there is another option for identifying the ``name'' and the numbers assigned to each axis and button.  Most Linux distributions include a very handy program, ``jstest''.  With a CH Product Yoke plugged into the system, the following output lines are displayed by jstest:
\medskip

\begin{ttfamily}
\tiny
\noindent
jstest /dev/js3\\
Joystick (CH PRODUCTS CH FLIGHT SIM YOKE USB ) has 7 axes and 12 buttons. Driver version is 2.1.0\\
Testing\ldots (interrupt to exit)\\
Axes:  0:\quad 0   1:\quad 0   2:\quad 0  3:\quad 0  4:\quad 0  5:\quad 0  6:\quad 0 Buttons:  0:off  1:off  2:off  3:on  4:off  5:off  6:off  7:off 8:off 9:off 10:off  11:off\\
\end{ttfamily}

\noindent
Note the ``name'' between parentheses.  This is the name the system associates with your joystick.

When you move any control, the numbers change after the axis number corresponding to that moving control and when you depress any button, the ``off'' after the button number corresponding to the button pressed changes to ``on''.  In this way, you can quickly write down the axes numbers and button numbers for each function without messing with binary.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection{Writing or editing joystick binding xml files\label{writing}}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
At this point, you have confirmed that the operating system and the joystick driver both recognize your joystick(s).  You also know of several ways to identify the joystick ``name'' your joystick reports to the driver and operating system.  You will need a written list of what control functions you wish to have assigned to which axis and button and the corresponding numbers.

 Make the following table from what you learned from js\underline{~}demo or jstest above (pencil and paper is fine).  Here we assume there are 5 axes including 2 axes associated with the hat.
\medskip

\begin{tabular}{c|c}
		Axis			      &           Button\\\hline
	elevator 	= 0	     &     	view cycle 	= 0\\
	rudder 		= 1	     &     	all brakes 	= 1\\
	aileron 	= 2	     &      	up trim 	= 2\\
	throttle 	= 3		   &       down trim 	= 3\\
	leftright hat 	= 4&	    	extend flaps	= 4\\
	foreaft hat 	= 5	&	      retract flaps	= 5\\
					          &        decrease RPM	= 6\\
					          &        increase RPM	= 7
\end{tabular}
\medskip


We will assume that our hypothetical joystick supplies the ``name'' QUICK STICK 3D USB to the system and driver. With all the examples included with \FlightGear{}, the easiest way to get a so far unsupported joystick to be auto detected, is to edit an existing binding xml file.  Look at the xml files in the sub-folders of \texttt{/FlightGear/Input/Joysticks/}. After evaluating several of the xml binding files supplied with \FlightGear{}, we decide to edit the file

\noindent
 \texttt{/FlightGear/Input/Joysticks/Saitek/Cyborg-Gold-3d-USB.xml}.

 \noindent
  This file has all the axes functions above assigned to axes and all the button functions above assigned to buttons.  This makes our editing almost trivial.

Before we begin to edit, we need to choose a name for our bindings xml file, create the folder for the QS joysticks, and copy the original xml file into this directory with this name.
\medskip


\begin{ttfamily}
\noindent
\$ cd /usr/local/FlightGear/Input/Joysticks\\
\$ mkdir QS\\
\$ cd QS\\
\$ cp  /usr/local/FlightGear/Input/Joysticks/Saitek/\\
Cyborg-Gold-3d-USB.xml  QuickStick.xml
\end{ttfamily}
\medskip

\noindent
Here, we obviously have supposed a Linux/UNIX system with \FlightGear{} being installed under \texttt{/usr/local/FlightGear}. For a similar procedure under Windows with \FlightGear{} being installed under \texttt{c:\FlightGear}, open a command shell and type
\medskip

\begin{ttfamily}
\noindent
c:\\
cd /FlightGear/Input/Joysticks\\
mkdir QS\\
cd QS\\
copy  /FlightGear/Input/Joysticks/Saitek/\\
Cyborg-Gold-3d-USB.xml  QuickStick.xml
\end{ttfamily}
\medskip

\noindent
Next, open \texttt{QuickStick.xml} with your favorite editor.  Before we forget to change the joystick name, search for the line containing $<$name$>$.  You should find the line
\medskip

\texttt{<name>SAITEK CYBORG 3D USB$<$/name$>$}
\medskip

\noindent
and change it to
\medskip

	\texttt{$<$name$>$QUICK STICK 3D USB$<$/name$>$}.
	\medskip

\noindent
This line illustrates a key feature of xml statements.  They begin with a $<$tag$>$ and end with a $<$/tag$>$.

You can now compare your table to the comment table at the top of your file copy.  Note that the comments tell us that the Saitek elevator was assigned to axis 1.  Search for the string
\medskip

	\texttt{$<$axis n="1"$>$}
\medskip

\noindent
and change this to
\medskip

	\texttt{$<$axis n="0"$>$.}
\medskip

Next, note that the Saitek rudder was assigned to axis 2.  Search for the string
\medskip

	\texttt{$<$axis n="2"$>$}

\noindent
and change this to
\medskip

	\texttt{$<$axis n="1"$>$.}
\medskip

\noindent
Continue comparing your table with the comment table for the Saitek and changing the axis numbers and button numbers accordingly.  Since QUICKSTICK USB and the Saitek have the same number of axes but different number of buttons, you must delete the buttons left over.  Just remember to double-check that you have a closing tag for each opening tag or you will get an error using the file.

Finally, be good to yourself (and others when you submit your new binding file to a \FlightGear{} developers or users archive!) by taking the time to change the comment table in the edited file to match your changed axis and button assignments.  The new comments should match the table you made from the js\underline{~}demo output.  Save your edits.

Several users have reported that the numbers of axes and buttons assigned to functions may be different with the same joystick under Windows and Linux.  The above procedure should allow one to easily change a binding xml file created for a different operating system for use by their operating system.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection{Telling \FlightGear{} about your new bindings xml file\label{telling}}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
Before \FlightGear{} can use your new xml file, you need to edit the file

\noindent
 \texttt{/FlightGear/joysticks.xml},


\noindent
adding a line that will include your new file if the ``name'' you entered between the name tags matches the name supplied to the driver by your joystick.  Add the following line to \texttt{joysticks.xml}.
\medskip

\noindent
	\texttt{<js-named include="Input/Joysticks/QS/QuickStick.xml"/>}
\medskip

You can tell how \FlightGear{} has interpreted your joystick setup by selecting
Help -> Joystick Information from the Menu.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection{Some hints for Windows users\label{joyxp}}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
Basically, the procedures described above should work for Windows as well. If your joystick/yoke/pedals work out of the box or if you get it to work using the methods above, fine. Unfortunately, however, it's likely you may encounter a few problems.

The first one concerns users of non-US Windows versions. As stated above, you can get the name of the joystick from the program js\underline{~}demo. If you have a non-US version of Windows and the joystick~.xml files named above do not contain that special name, just add it on top of the appropriate file in the style of
\medskip

 \texttt{<name>Microsoft-PC-Joysticktreiber </name>}
 \medskip

\noindent
No new entry in the base \texttt{joysticks.xml} file is required.

Unfortunately, there is one more loophole with Windows joystick support. In the case that you have two USB devices attached (for instance, a yoke plus pedals), it's possible that the same driver name will be reported twice. In this
case, you can at least get the yoke working by assigning it number 0 (out of
0 and 1). For this purpose, rotate the yoke (aileron control) and observe
the output of js\underline{~}demo. If figures in the first group of colons
(for device 0) change, assignment is correct. If figures in the second group
of colons (for device 1) change, you have to make the yoke the preferred
device first. For doing so, enter the
Windows ``Control panel'', open ``Game controllers'' and select the
``Advanced'' button. Here you can select the yoke as the ``Preferred''
device. Afterward you can check that assignment by running
js\underline{~}demo again. The yoke should now control the first group of
figures.

Unfortunately, we did not find a way to get the pedals to work, too, that way. Thus, in cases like this one (and others) you may want to try an alternative method of assigning joystick controls.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection{Some hints for Mac OS X users\label{joymac}}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
Thanks to Mac OS X, most of HID compatible joysticks are recognized and usable on Mac OS X. Some of joysticks are already defined properly in FlightGear. However, sometimes your joystick does not work as you expect due to some reasons such as missing joystick ID, and misconfigured buttons or axis. In such cases, you need to modify a joystick configuration file.

The basic procedures in configuring joysticks under Mac OS X are the same as those of Linux as described above. The main differences are the path to the joystick configuration files and the means of finding a joystick name. The joystick configuration files are at \texttt{Contents/Resources/data/Input/Joysticks} under the FlightGear.app folder. You can open the data folder by choosing ``Advanced Features >> Others >> Open data folder'' on the GUI launcher. You can also open it by right-clicking the FlightGear icon at Applications folder and choose ``Show Package Contents'' to access the folders inside the application. To find a joystick name, follow the steps below:

\begin{enumerate}
\item Open \textit{System Profiler} by choosing \textit{Apple Menu | About this Mac | More Info...}
\item Select USB from the \textit{Hardware} list in the left pane.
\item Find the name of your joystick (e.g. Logitech Extreme 3D) from the USB Device Tree.
\item Add a name tag with the recognized joystick name to a proper configuration XML file (e.g. \verb=<name>Logitech Extreme 3D</name>=)
\item Check if your device name is shown properly by choosing \textit{Help | Joystick information} from the menu on the \FlightGear{} simulator window.
\end{enumerate}

In case your joystick doesn't work as expected even it is recognized properly, you need to modify the button and/or axis settings. Some Mac users reported that twisting a joystick controls the throttle instead of the rudder. This is a typical joystick misconfiguration on Mac OS X. To fix this issue, you need to edit two axis tags in a joystick configuration file. 

In many cases, the rudder is assigned to axis 2 and the throttle to axis 3 in driver level. Editing or adding a mac tag inside an axis tag for the rudder (and throttle) will fix this problem. The example below is a part of a joystick configuration file that assigns axis 3 for rudder control. 

\begin{verbatim}
<axis>
 <desc>Rudder</desc>
 <number>
   <linux>2</linux>
   <mac>3</mac> <!-- This must be 2 -->
   <windows>3</windows>
  </number>
  .....
\end{verbatim}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Joystick support via .fgfsrc entries\label{fgfsrcjoy}}\index{joystick!.fgfsrc}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
Fortunately, there is now a utility available which makes things easier for the average, non-XML savvy user.

To configure your joystick using this approach, open a command shell (command prompt under Windows, to be found under Start|All programs|Accessories). Change to the directory \texttt{/FlightGear/bin} via e.g. (modify to your path)

\noindent
\texttt{cd c:$\backslash$FlightGear$\backslash$bin}

and invoke the tool fgjs via

\noindent
\texttt{./fgjs}

on a UNIX/Linux machine, or via

\noindent
\texttt{fgjs}

on a Windows machine. The program will tell you which joysticks, if any, were detected. Now follow the commands given on screen, i.e. move the axis and press the buttons as required. Be careful, a minor touch already ``counts'' as a movement. Check the reports on screen. If you feel something went wrong, just re-start the program.

After you are done with all the axes and switches, the directory above will hold a file called \texttt{fgfsrc.js}. If the \FlightGear{} base directory \texttt{FlightGear} does not already contain an options file \texttt{.fgfsrc} (under UNIX)/\texttt{system.fgfsrc} (under Windows) mentioned above, just copy
\medskip

\noindent
 \texttt{fgfsrc.js} into \texttt{.fgfsrc} (UNIX)/\texttt{system.fgfsrc} (Windows)
 \medskip

\noindent
and place it into the directory \FlightGear{} base directory \texttt{FlightGear}. If you already have an options file, just open it as well as \texttt{fgfsrc.js} with an editor and copy the entries from \texttt{fgfsrc.js} into \texttt{.fgfsrc}/\texttt{system.fgfsrc}. One hint: The output of \texttt{fgjs} is UNIX formatted. As a result, Windows Editor may not display it properly. It may be helpful to use an editor capable of handling UNIX files as well. My favorite freeware file editor for that purpose, although somewhat dated, is still \Index{PFE}, to be obtained from

\web{http://www.lancs.ac.uk/people/cpaap/pfe/}.

The axis/button assignment of \texttt{fgjs} should, at least, get the axis assignments right, its output may need some tweaking. There may be axes moving the opposite way they should, the dead zones may be too small etc. For instance, I had to change

\texttt{--prop:/input/joysticks/js[1]/axis[1]/binding/factor=-1.0}

into

\texttt{--prop:/input/joysticks/js[1]/axis[1]/binding/factor=1.0}

(USB CH Flightsim Yoke under Windows XP). Thus, here is a short introduction into the assignments of joystick properties.

Basically, all axes settings are specified via lines having the following structure:
 \medskip

\noindent
\texttt{-$ $-prop:/input/joysticks/js[}\textit{n}\texttt{]/axis[}\textit{m}\texttt{]/binding}\\
\texttt{/command=property-scale} (one line)\\
\texttt{-$ $-prop:/input/joysticks/js[}\textit{n}\texttt{]/axis[}\textit{m}\texttt{]/binding}\\
\texttt{/property=/controls/}\textit{steering option} (one line)\\
\texttt{-$ $-prop:/input/joysticks/js[}\textit{n}\texttt{]/axis[}\textit{m}\texttt{]/binding}\\
\texttt{/dead-band=}\textit{db} (one line)\\
\texttt{-$ $-prop:/input/joysticks/js[}\textit{n}\texttt{]/axis[}\textit{m}\texttt{]/binding}\\
\texttt{/offset=}\textit{os} (one line)\\
\texttt{-$ $-prop:/input/joysticks/js[}\textit{n}\texttt{]/axis[}\textit{m}\texttt{]/binding}\\
\texttt{/factor=}\textit{fa} (one line)\\
\medskip

 \noindent
 where
 \medskip

\begin{tabular}{rcl}
 \textit{n} &=& number of device (usually starting with 0)\\
 \textit{m} &=& number of axis (usually starting with 0)\\
 \textit{steering option} &=& elevator, aileron, rudder, throttle, mixture, pitch\\
 \textit{dead-band} &=& range, within which signals are discarded;\\
                   && useful to avoid jittering for minor yoke movements\\
 \textit{offset} &=& specifies, if device not centered in its neutral position\\
  \textit{factor} &=& controls sensitivity of that axis; defaults to +1,\\
                 &&with a value of -1 reversing the behavior
  \end{tabular}
 \medskip

You should be able to at least get your joystick working along
these lines. Concerning all the finer points, such as getting the joystick buttons
working, John Check\index{Check, John} has written a very useful README  included in the base package under \texttt{FlightGear/Docs/Readme/Joystick.html}. In case of any trouble with your input device, it is highly recommended to read this document.

%% Revision 0.02  1998/09/29  bernhard
%% revision 0.10  1998/10/01  michael
%% final proofreading for release
%% revision 0.11  1998/11/01  michael
%% Added pic from Arizona takeoff
%% revision 0.20  1999/06/04  michael
%% added new options
%% revision 0.3 2000/04/20 michael
%% added numerous new options (number rapidly growing...)
%% revision 0.4 2001/05/12 michael
%% description of .fgfsrc/system.fgfsrc
%% again many new options
%% joystick section added based on John Check's joystick howto
%% updated arizona pic
%% revision 0.4 2001/07/01 martin
%% comments on debug options under Unix
%% revision 0.5 2002/01/01 michael/martin
%% added more options, notably the --aircraft option
%% tweaks in the introductory section
%% revised joystick section based on fgjs
%% New KFSO picture
%% Paragraphs on UIUC + tweaks by Martin
%% Added Section on IIO options
%% revision 0.6 2002/09/05 michael
%% Corrected win shell call in 4.2
%% added/corrected/deleted several command line options
%% Added large section on built-in joystick support by Dave Perry
%% Added section/table with complete list of aircraft
%% Command line options in quotes for Win batch start
%% D Perry edits:  p.42 changed feed to feet, p43. changed incentive to challenging
%% p.51 added a space after USB in the joystick name per what jstest really reports.
%% p.52 removed at after evaluating, p.53 added "and change this to" along with the LaTex syntax between <axis n="2"> and <axis n="1">
%% p.53 added a sentence pointing out that Windows and Linux often assign different axes and buttons to functions and the above edit procedure easily allows moving from one OS to antother.
%% Added section on env. vars, the Joystick Information menu option and aircraft.
%% Revision 16/10/08: corrected various grammar, syntax and spelling errors.

